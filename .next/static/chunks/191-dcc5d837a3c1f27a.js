(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{1191:function(e,t,r){Promise.resolve().then(r.t.bind(r,6656,23)),Promise.resolve().then(r.t.bind(r,6208,23)),Promise.resolve().then(r.t.bind(r,8169,23)),Promise.resolve().then(r.t.bind(r,3699,23)),Promise.resolve().then(r.bind(r,8812)),Promise.resolve().then(r.bind(r,2145)),Promise.resolve().then(r.bind(r,1726)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,1507))},8812:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(6705),s=r(6691),l=r.n(s),n=r(1865),i=r(4033),o=r(955),d=r(8110),c=r(6737),f=r(3904),u=r(3762),m=r(102),x=r(3656);let{useUploadThing:b,uploadFiles:h}=(0,x.$)();var g=r(306),p=r(4578);let v=p.Ry({profile_photo:p.Z_().url().nonempty(),name:p.Z_().min(3,{message:"Minimum 3 characters."}).max(30,{message:"Maximum 30 caracters."}),username:p.Z_().min(3,{message:"Minimum 3 characters."}).max(30,{message:"Maximum 30 caracters."}),bio:p.Z_().min(3,{message:"Minimum 3 characters."}).max(1e3,{message:"Maximum 1000 caracters."})});r(4039),r(470);var j=r(1162);(0,j.Z)("e5d807b1e768e51cfbf3d1fc3a0cb34dbeed7409");var N=(0,j.Z)("e625189055d86d8ae1190f3a0723e73ee0303261");(0,j.Z)("077dbd9901e140adb33476885e823d552f134066"),(0,j.Z)("937e5f35ee0fd3414436f20057efef8a65f3295f"),(0,j.Z)("d4f9d2bbf29d579d826dcfee8bd54d39dfeecc47");var k=e=>{let{user:t,btnTitle:r}=e,s=(0,i.useRouter)(),x=(0,i.usePathname)(),{startUpload:h}=b("media"),[p,j]=(0,o.useState)([]),k=(0,n.cI)({resolver:(0,d.F)(v),defaultValues:{profile_photo:(null==t?void 0:t.image)?t.image:"",name:(null==t?void 0:t.name)?t.name:"",username:(null==t?void 0:t.username)?t.username:"",bio:(null==t?void 0:t.bio)?t.bio:""}}),y=async e=>{let r=e.profile_photo,a=(0,g.dY)(r);if(a){let t=await h(p);t&&t[0].fileUrl&&(e.profile_photo=t[0].fileUrl)}await N({name:e.name,path:x,username:e.username,userId:t.id,bio:e.bio,image:e.profile_photo}),"/profile/edit"===x?s.back():s.push("/")},w=(e,t)=>{e.preventDefault();let r=new FileReader;if(e.target.files&&e.target.files.length>0){let a=e.target.files[0];if(j(Array.from(e.target.files)),!a.type.includes("image"))return;r.onload=async e=>{var r,a;let s=(null===(a=e.target)||void 0===a?void 0:null===(r=a.result)||void 0===r?void 0:r.toString())||"";t(s)},r.readAsDataURL(a)}};return(0,a.jsx)(c.l0,{...k,children:(0,a.jsxs)("form",{className:"flex flex-col justify-start gap-10",onSubmit:k.handleSubmit(y),children:[(0,a.jsx)(c.Wi,{control:k.control,name:"profile_photo",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex items-center gap-4",children:[(0,a.jsx)(c.lX,{className:"account-form_image-label",children:t.value?(0,a.jsx)(l(),{src:t.value,alt:"profile_icon",width:96,height:96,priority:!0,className:"rounded-full object-contain"}):(0,a.jsx)(l(),{src:"/assets/profile.svg",alt:"profile_icon",width:24,height:24,className:"object-contain"})}),(0,a.jsx)(c.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(f.I,{type:"file",accept:"image/*",placeholder:"Add profile photo",className:"account-form_image-input",onChange:e=>w(e,t.onChange)})})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2",children:"Name"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(f.I,{type:"text",className:"account-form_input no-focus",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"username",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2",children:"Username"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(f.I,{type:"text",className:"account-form_input no-focus",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(c.Wi,{control:k.control,name:"bio",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.xJ,{className:"flex w-full flex-col gap-3",children:[(0,a.jsx)(c.lX,{className:"text-base-semibold text-light-2",children:"Bio"}),(0,a.jsx)(c.NI,{children:(0,a.jsx)(m.g,{rows:10,className:"account-form_input no-focus",...t})}),(0,a.jsx)(c.zG,{})]})}}),(0,a.jsx)(u.z,{type:"submit",className:"bg-primary-500",children:r})]})})}},3762:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(6705),s=r(955),l=r(7256),n=r(6061),i=r(306);let o=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-800",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,f=d?l.g7:"button";return(0,a.jsx)(f,{className:(0,i.cn)(o({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},6737:function(e,t,r){"use strict";r.d(t,{l0:function(){return u},NI:function(){return v},Wi:function(){return x},xJ:function(){return g},lX:function(){return p},zG:function(){return N}});var a=r(6705),s=r(955),l=r(7256),n=r(1865),i=r(306),o=r(6743),d=r(6061);let c=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,i.cn)(c(),r),...s})});f.displayName=o.f.displayName;let u=n.RV,m=s.createContext({}),x=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(n.Qr,{...t})})},b=()=>{let e=s.useContext(m),t=s.useContext(h),{getFieldState:r,formState:a}=(0,n.Gc)(),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},h=s.createContext({}),g=s.forwardRef((e,t)=>{let{className:r,...l}=e,n=s.useId();return(0,a.jsx)(h.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...l})})});g.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:l,formItemId:n}=b();return(0,a.jsx)(f,{ref:t,className:(0,i.cn)(l&&"text-red-500 dark:text-red-900",r),htmlFor:n,...s})});p.displayName="FormLabel";let v=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:o}=b();return(0,a.jsx)(l.g7,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...r})});v.displayName="FormControl";let j=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:l}=b();return(0,a.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-slate-500 dark:text-slate-400",r),...s})});j.displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e,{error:n,formMessageId:o}=b(),d=n?String(null==n?void 0:n.message):s;return d?(0,a.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-red-500 dark:text-red-900",r),...l,children:d}):null});N.displayName="FormMessage"},3904:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(6705),s=r(955),l=r(306);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-slate-200 border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-800",r),ref:t,...n})});n.displayName="Input"},102:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var a=r(6705),s=r(955),l=r(306);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 border-slate-200 bg-transparent px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-800 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-800",r),ref:t,...s})});n.displayName="Textarea"},306:function(e,t,r){"use strict";r.d(t,{cn:function(){return l},dY:function(){return n}});var a=r(7042),s=r(3986);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m)((0,a.W)(t))}function n(e){return/^data:image\/(png|jpe?g|gif|webp);base64,/.test(e)}}}]);